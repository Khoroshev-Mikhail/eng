{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nexport const vocabularyAPI = createApi({\n  reducerPath: 'vocabularyApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:3002/vocabulary',\n    prepareHeaders: headers => {\n      headers.set('Authorization', `Bearer Ara`);\n      return headers;\n    }\n  }),\n  tagTypes: ['vocabulary'],\n  endpoints: builder => ({\n    getVocabulary: builder.query({\n      query: id => `/${id}`,\n      providesTags: (result, error, id) => [{\n        type: 'vocabulary',\n        id\n      }]\n    }),\n    getUnlerned: builder.query({\n      //может надо разбить на отдельные методы лучше\n      query: req => `/${req.userId}/unlerned/${req.method}/group/${req.groupId}`,\n      providesTags: (result, error, id) => [{\n        type: 'vocabulary',\n        id\n      }]\n    }),\n    getUnlernedSpell: builder.query({\n      //может надо разбить на отдельные методы лучше\n      query: req => `/${req.userId}/unlerned/spelling/group/${req.groupId}`,\n      providesTags: (result, error, id) => [{\n        type: 'vocabulary',\n        id\n      }],\n      transformResponse: resp => ({\n        ...resp,\n        trueVariant: resp.eng,\n        eng: resp.eng.toUpperCase().split('').sort(() => Math.random() - 0.5).join('')\n      })\n    }),\n    setVocabulary: builder.mutation({\n      query: body => ({\n        url: `/${body.userId}/${body.method}`,\n        method: 'PUT',\n        body\n      }),\n      invalidatesTags: ['vocabulary']\n    }),\n    getGroupProgess: builder.query({\n      query: body => `groups/${body.groupId}/progress/${body.userId}`,\n      providesTags: ['vocabulary']\n    })\n  })\n});\nexport const {\n  useGetVocabularyQuery,\n  useSetVocabularyMutation,\n  useGetUnlernedQuery,\n  useGetUnlernedSpellQuery,\n  useGetGroupProgessQuery\n} = vocabularyAPI;","map":{"version":3,"names":["createApi","fetchBaseQuery","vocabularyAPI","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","set","tagTypes","endpoints","builder","getVocabulary","query","id","providesTags","result","error","type","getUnlerned","req","userId","method","groupId","getUnlernedSpell","transformResponse","resp","trueVariant","eng","toUpperCase","split","sort","Math","random","join","setVocabulary","mutation","body","url","invalidatesTags","getGroupProgess","useGetVocabularyQuery","useSetVocabularyMutation","useGetUnlernedQuery","useGetUnlernedSpellQuery","useGetGroupProgessQuery"],"sources":["/Users/tatanaarhipova/MikeIT/eng/src/app/API/vocabularyAPI.tsx"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport { Word } from '../types/types'\n\nexport const vocabularyAPI = createApi({\n    reducerPath: 'vocabularyApi',\n    baseQuery: fetchBaseQuery({\n        baseUrl: 'http://localhost:3002/vocabulary',\n        prepareHeaders: (headers: Headers) => {\n            headers.set('Authorization', `Bearer Ara`)\n            return headers\n        }\n    }),\n    tagTypes: ['vocabulary'],\n    endpoints: (builder) => ({\n        getVocabulary: builder.query<any, any>({\n            query: (id: number) =>  `/${id}`,\n            providesTags: (result, error, id) => [{ type: 'vocabulary', id }],\n        }),\n        getUnlerned: builder.query<any, any>({ //может надо разбить на отдельные методы лучше\n            query: (req) =>  `/${req.userId}/unlerned/${req.method}/group/${req.groupId}`,\n            providesTags: (result, error, id) => [{ type: 'vocabulary', id }],\n        }),\n        getUnlernedSpell: builder.query<any, any>({ //может надо разбить на отдельные методы лучше\n            query: (req) =>  `/${req.userId}/unlerned/spelling/group/${req.groupId}`,\n            providesTags: (result, error, id) => [{ type: 'vocabulary', id }],\n            transformResponse: (resp: Word) => ({...resp, trueVariant: resp.eng, eng: resp.eng.toUpperCase().split('').sort(() => Math.random() - 0.5).join('')})\n        }),\n        setVocabulary: builder.mutation<any, {method: string, word_id: number, userId: number}>({\n            query: (body) => ({\n                url: `/${body.userId}/${body.method}`,\n                method: 'PUT',\n                body\n            }),\n            invalidatesTags: ['vocabulary']\n        }),\n        getGroupProgess: builder.query<{english: number, russian: number, spelling: number, auding: number}, {groupId: number, userId: number}>({\n            query: (body) =>  `groups/${body.groupId}/progress/${body.userId}`,\n            providesTags: ['vocabulary'], \n        }),\n    })\n})\n\nexport const { useGetVocabularyQuery, useSetVocabularyMutation, useGetUnlernedQuery, useGetUnlernedSpellQuery, useGetGroupProgessQuery } = vocabularyAPI"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAGxE,OAAO,MAAMC,aAAa,GAAGF,SAAS,CAAC;EACnCG,WAAW,EAAE,eAAe;EAC5BC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAE,kCAAkC;IAC3CC,cAAc,EAAGC,OAAgB,IAAK;MAClCA,OAAO,CAACC,GAAG,CAAC,eAAe,EAAG,YAAW,CAAC;MAC1C,OAAOD,OAAO;IAClB;EACJ,CAAC,CAAC;EACFE,QAAQ,EAAE,CAAC,YAAY,CAAC;EACxBC,SAAS,EAAGC,OAAO,KAAM;IACrBC,aAAa,EAAED,OAAO,CAACE,KAAK,CAAW;MACnCA,KAAK,EAAGC,EAAU,IAAO,IAAGA,EAAG,EAAC;MAChCC,YAAY,EAAE,CAACC,MAAM,EAAEC,KAAK,EAAEH,EAAE,KAAK,CAAC;QAAEI,IAAI,EAAE,YAAY;QAAEJ;MAAG,CAAC;IACpE,CAAC,CAAC;IACFK,WAAW,EAAER,OAAO,CAACE,KAAK,CAAW;MAAE;MACnCA,KAAK,EAAGO,GAAG,IAAO,IAAGA,GAAG,CAACC,MAAO,aAAYD,GAAG,CAACE,MAAO,UAASF,GAAG,CAACG,OAAQ,EAAC;MAC7ER,YAAY,EAAE,CAACC,MAAM,EAAEC,KAAK,EAAEH,EAAE,KAAK,CAAC;QAAEI,IAAI,EAAE,YAAY;QAAEJ;MAAG,CAAC;IACpE,CAAC,CAAC;IACFU,gBAAgB,EAAEb,OAAO,CAACE,KAAK,CAAW;MAAE;MACxCA,KAAK,EAAGO,GAAG,IAAO,IAAGA,GAAG,CAACC,MAAO,4BAA2BD,GAAG,CAACG,OAAQ,EAAC;MACxER,YAAY,EAAE,CAACC,MAAM,EAAEC,KAAK,EAAEH,EAAE,KAAK,CAAC;QAAEI,IAAI,EAAE,YAAY;QAAEJ;MAAG,CAAC,CAAC;MACjEW,iBAAiB,EAAGC,IAAU,KAAM;QAAC,GAAGA,IAAI;QAAEC,WAAW,EAAED,IAAI,CAACE,GAAG;QAAEA,GAAG,EAAEF,IAAI,CAACE,GAAG,CAACC,WAAW,EAAE,CAACC,KAAK,CAAC,EAAE,CAAC,CAACC,IAAI,CAAC,MAAMC,IAAI,CAACC,MAAM,EAAE,GAAG,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE;MAAC,CAAC;IACxJ,CAAC,CAAC;IACFC,aAAa,EAAExB,OAAO,CAACyB,QAAQ,CAAyD;MACpFvB,KAAK,EAAGwB,IAAI,KAAM;QACdC,GAAG,EAAG,IAAGD,IAAI,CAAChB,MAAO,IAAGgB,IAAI,CAACf,MAAO,EAAC;QACrCA,MAAM,EAAE,KAAK;QACbe;MACJ,CAAC,CAAC;MACFE,eAAe,EAAE,CAAC,YAAY;IAClC,CAAC,CAAC;IACFC,eAAe,EAAE7B,OAAO,CAACE,KAAK,CAA0G;MACpIA,KAAK,EAAGwB,IAAI,IAAO,UAASA,IAAI,CAACd,OAAQ,aAAYc,IAAI,CAAChB,MAAO,EAAC;MAClEN,YAAY,EAAE,CAAC,YAAY;IAC/B,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EAAE0B,qBAAqB;EAAEC,wBAAwB;EAAEC,mBAAmB;EAAEC,wBAAwB;EAAEC;AAAwB,CAAC,GAAG3C,aAAa"},"metadata":{},"sourceType":"module"}
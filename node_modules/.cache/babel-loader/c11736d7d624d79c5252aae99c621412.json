{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  english: [],\n  russian: [],\n  spelling: [],\n  auding: []\n};\nexport const getVocabularyThunk = createAsyncThunk('Thunk: getVocabulary', async function (_, thunkAPI) {\n  const {\n    user\n  } = thunkAPI.getState();\n  console.log(user.id);\n  if (user.id === null) {\n    return initialState;\n  }\n  const response = await fetch(`http://localhost:3002/vocabulary/${user.id}`);\n  const data = await response.json();\n  return data;\n});\nexport const vocabularySlice = createSlice({\n  //Укажи тип редусеров\n  name: 'Slice: Vocabulary',\n  initialState,\n  reducers: {\n    pushEnglish: (state, action) => {\n      state.english.push(action.payload);\n    },\n    pushRussian: (state, action) => {\n      state.russian.push(action.payload);\n    },\n    pushSpelling: (state, action) => {\n      state.spelling.push(action.payload);\n    },\n    pushAuding: (state, action) => {\n      state.auding.push(action.payload);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getVocabularyThunk.fulfilled, (_, action) => action.payload);\n    builder.addCase(getVocabularyThunk.rejected, (_, __) => initialState);\n  }\n});\nexport const {\n  pushEnglish,\n  pushRussian,\n  pushSpelling,\n  pushAuding\n} = vocabularySlice.actions;\nexport const getVocabulary = state => state.vocabulary;\nexport const getVocabularyEnglish = state => state.vocabulary.english;\nexport const getVocabularyRussian = state => state.vocabulary.russian;\nexport const getVocabularySpelling = state => state.vocabulary.spelling;\nexport const getVocabularyAuding = state => state.vocabulary.auding;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","english","russian","spelling","auding","getVocabularyThunk","_","thunkAPI","user","getState","console","log","id","response","fetch","data","json","vocabularySlice","name","reducers","pushEnglish","state","action","push","payload","pushRussian","pushSpelling","pushAuding","extraReducers","builder","addCase","fulfilled","rejected","__","actions","getVocabulary","vocabulary","getVocabularyEnglish","getVocabularyRussian","getVocabularySpelling","getVocabularyAuding"],"sources":["/Users/tatanaarhipova/MikeIT/eng/src/app/clientAPI/vocabularyAPI.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { RootState } from '../store'\nimport { User, Vocabulary } from '../types/types'\n\nconst initialState: Vocabulary = {\n    english: [],\n    russian: [],\n    spelling: [],\n    auding: []\n}\nexport const getVocabularyThunk = createAsyncThunk<Vocabulary, void, { state: RootState }>(\n    'Thunk: getVocabulary',\n    async function(_, thunkAPI) {\n        const { user } = thunkAPI.getState() as { user: User}\n        console.log(user.id)\n        if(user.id === null){\n            return initialState\n        }\n        const response = await fetch(`http://localhost:3002/vocabulary/${user.id}`)\n        const data = await response.json()\n        return data\n    }\n)\nexport const vocabularySlice = createSlice<Vocabulary, any>({ //Укажи тип редусеров\n    name: 'Slice: Vocabulary',\n    initialState,\n    reducers: {\n        pushEnglish: (state: Vocabulary, action: PayloadAction<number>) => {\n            state.english.push(action.payload);\n        },\n        pushRussian: (state: Vocabulary, action: PayloadAction<number>) => {\n            state.russian.push(action.payload);\n        },\n        pushSpelling: (state: Vocabulary, action: PayloadAction<number>) => {\n            state.spelling.push(action.payload);\n        },\n        pushAuding: (state: Vocabulary, action: PayloadAction<number>) => {\n            state.auding.push(action.payload);\n        },\n    },\n    extraReducers: (builder) => {\n        builder.addCase(getVocabularyThunk.fulfilled, (_, action) => action.payload)\n        builder.addCase(getVocabularyThunk.rejected, (_, __) => initialState)\n    }\n})\nexport const { pushEnglish, pushRussian, pushSpelling, pushAuding} = vocabularySlice.actions\nexport const getVocabulary = (state: RootState) => state.vocabulary;\nexport const getVocabularyEnglish = (state: RootState) => state.vocabulary.english;\nexport const getVocabularyRussian = (state: RootState) => state.vocabulary.russian;\nexport const getVocabularySpelling = (state: RootState) => state.vocabulary.spelling;\nexport const getVocabularyAuding = (state: RootState) => state.vocabulary.auding;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAuB,kBAAkB;AAI/E,MAAMC,YAAwB,GAAG;EAC7BC,OAAO,EAAE,EAAE;EACXC,OAAO,EAAE,EAAE;EACXC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE;AACZ,CAAC;AACD,OAAO,MAAMC,kBAAkB,GAAGP,gBAAgB,CAC9C,sBAAsB,EACtB,gBAAeQ,CAAC,EAAEC,QAAQ,EAAE;EACxB,MAAM;IAAEC;EAAK,CAAC,GAAGD,QAAQ,CAACE,QAAQ,EAAmB;EACrDC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,EAAE,CAAC;EACpB,IAAGJ,IAAI,CAACI,EAAE,KAAK,IAAI,EAAC;IAChB,OAAOZ,YAAY;EACvB;EACA,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAAE,oCAAmCN,IAAI,CAACI,EAAG,EAAC,CAAC;EAC3E,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CACJ;AACD,OAAO,MAAME,eAAe,GAAGlB,WAAW,CAAkB;EAAE;EAC1DmB,IAAI,EAAE,mBAAmB;EACzBlB,YAAY;EACZmB,QAAQ,EAAE;IACNC,WAAW,EAAE,CAACC,KAAiB,EAAEC,MAA6B,KAAK;MAC/DD,KAAK,CAACpB,OAAO,CAACsB,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IACtC,CAAC;IACDC,WAAW,EAAE,CAACJ,KAAiB,EAAEC,MAA6B,KAAK;MAC/DD,KAAK,CAACnB,OAAO,CAACqB,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IACtC,CAAC;IACDE,YAAY,EAAE,CAACL,KAAiB,EAAEC,MAA6B,KAAK;MAChED,KAAK,CAAClB,QAAQ,CAACoB,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IACvC,CAAC;IACDG,UAAU,EAAE,CAACN,KAAiB,EAAEC,MAA6B,KAAK;MAC9DD,KAAK,CAACjB,MAAM,CAACmB,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IACrC;EACJ,CAAC;EACDI,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACzB,kBAAkB,CAAC0B,SAAS,EAAE,CAACzB,CAAC,EAAEgB,MAAM,KAAKA,MAAM,CAACE,OAAO,CAAC;IAC5EK,OAAO,CAACC,OAAO,CAACzB,kBAAkB,CAAC2B,QAAQ,EAAE,CAAC1B,CAAC,EAAE2B,EAAE,KAAKjC,YAAY,CAAC;EACzE;AACJ,CAAC,CAAC;AACF,OAAO,MAAM;EAAEoB,WAAW;EAAEK,WAAW;EAAEC,YAAY;EAAEC;AAAU,CAAC,GAAGV,eAAe,CAACiB,OAAO;AAC5F,OAAO,MAAMC,aAAa,GAAId,KAAgB,IAAKA,KAAK,CAACe,UAAU;AACnE,OAAO,MAAMC,oBAAoB,GAAIhB,KAAgB,IAAKA,KAAK,CAACe,UAAU,CAACnC,OAAO;AAClF,OAAO,MAAMqC,oBAAoB,GAAIjB,KAAgB,IAAKA,KAAK,CAACe,UAAU,CAAClC,OAAO;AAClF,OAAO,MAAMqC,qBAAqB,GAAIlB,KAAgB,IAAKA,KAAK,CAACe,UAAU,CAACjC,QAAQ;AACpF,OAAO,MAAMqC,mBAAmB,GAAInB,KAAgB,IAAKA,KAAK,CAACe,UAAU,CAAChC,MAAM"},"metadata":{},"sourceType":"module"}
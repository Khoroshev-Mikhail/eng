{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nexport const getAllGlobalTextsTitlesThunk = createAsyncThunk('Thunk: getAllGlobalTextTitles', async function () {\n  const response = await fetch(`http://localhost:3002/texts/titles`);\n  const data = await response.json();\n  return data;\n});\nexport const textsSlice = createSlice({\n  name: 'textsSlice',\n  initialState: [],\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getAllGlobalTextsTitlesThunk.fulfilled, (_, action) => action.payload);\n  }\n});\nexport const getOneTextThunk = createAsyncThunk('Thunk: getOneText', async function (id) {\n  const response = await fetch(`http://localhost:3002/texts/${id}`);\n  const data = await response.json();\n  return data;\n});\nconst oneTextInitialState = {\n  id: 0,\n  title: 'Ошибка!',\n  img: '404.jpg',\n  text_body: 'Возникла ошибка, вероятно на стороне сервера.',\n  content_references: null\n};\nexport const oneTextSlice = createSlice({\n  name: 'oneTextSlice',\n  initialState: oneTextInitialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getOneTextThunk.fulfilled, (_, action) => action.payload);\n    builder.addCase(getOneTextThunk.rejected, (_, __) => oneTextInitialState);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","createSlice","getAllGlobalTextsTitlesThunk","response","fetch","data","json","textsSlice","name","initialState","reducers","extraReducers","builder","addCase","fulfilled","_","action","payload","getOneTextThunk","id","oneTextInitialState","title","img","text_body","content_references","oneTextSlice","rejected","__"],"sources":["/Users/tatanaarhipova/MikeIT/eng/src/app/API/textSliceAPI.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { Text, TextTitle } from '../types/types'\n\nexport const getAllGlobalTextsTitlesThunk = createAsyncThunk<TextTitle[]>(\n    'Thunk: getAllGlobalTextTitles',\n    async function() {\n        const response = await fetch(`http://localhost:3002/texts/titles`)\n        const data = await response.json()\n        return data\n    }\n)\n\nexport const textsSlice = createSlice<TextTitle[], {}>({\n    name: 'textsSlice',\n    initialState: [],\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(getAllGlobalTextsTitlesThunk.fulfilled, (_, action) => action.payload)\n    }\n})\nexport const getOneTextThunk = createAsyncThunk<Text, number | string>(\n    'Thunk: getOneText',\n    async function(id) {\n        const response = await fetch(`http://localhost:3002/texts/${id}`)\n        const data = await response.json()\n        return data\n    }\n)\nconst oneTextInitialState: Text = {\n    id: 0,\n    title: 'Ошибка!',\n    img: '404.jpg',\n    text_body: 'Возникла ошибка, вероятно на стороне сервера.',\n    content_references: null\n}\nexport const oneTextSlice = createSlice({\n    name: 'oneTextSlice',\n    initialState: oneTextInitialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(getOneTextThunk.fulfilled, (_, action) => action.payload)\n        builder.addCase(getOneTextThunk.rejected, (_, __) => oneTextInitialState)\n    }\n})"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAGhE,OAAO,MAAMC,4BAA4B,GAAGF,gBAAgB,CACxD,+BAA+B,EAC/B,kBAAiB;EACb,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,oCAAmC,CAAC;EAClE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CACJ;AAED,OAAO,MAAME,UAAU,GAAGN,WAAW,CAAkB;EACnDO,IAAI,EAAE,YAAY;EAClBC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACX,4BAA4B,CAACY,SAAS,EAAE,CAACC,CAAC,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO,CAAC;EAC1F;AACJ,CAAC,CAAC;AACF,OAAO,MAAMC,eAAe,GAAGlB,gBAAgB,CAC3C,mBAAmB,EACnB,gBAAemB,EAAE,EAAE;EACf,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8Be,EAAG,EAAC,CAAC;EACjE,MAAMd,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CACJ;AACD,MAAMe,mBAAyB,GAAG;EAC9BD,EAAE,EAAE,CAAC;EACLE,KAAK,EAAE,SAAS;EAChBC,GAAG,EAAE,SAAS;EACdC,SAAS,EAAE,+CAA+C;EAC1DC,kBAAkB,EAAE;AACxB,CAAC;AACD,OAAO,MAAMC,YAAY,GAAGxB,WAAW,CAAC;EACpCO,IAAI,EAAE,cAAc;EACpBC,YAAY,EAAEW,mBAAmB;EACjCV,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACK,eAAe,CAACJ,SAAS,EAAE,CAACC,CAAC,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO,CAAC;IACzEL,OAAO,CAACC,OAAO,CAACK,eAAe,CAACQ,QAAQ,EAAE,CAACX,CAAC,EAAEY,EAAE,KAAKP,mBAAmB,CAAC;EAC7E;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}
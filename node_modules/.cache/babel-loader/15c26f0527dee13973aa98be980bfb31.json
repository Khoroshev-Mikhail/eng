{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n// добавить пагинацию\nexport const getAllGlobalTextsTitlesThunk = createAsyncThunk('Thunk: getAllGlobalTextTitles', async function () {\n  const response = await fetch(`http://localhost:3002/texts/titles`);\n  const data = await response.json();\n  return data;\n});\nexport const textsSlice = createSlice({\n  name: 'textsSlice',\n  initialState: [],\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getAllGlobalTextsTitlesThunk.fulfilled, (_, action) => action.payload);\n    builder.addCase(getAllGlobalTextsTitlesThunk.rejected, (_, __) => []);\n  }\n});\nexport const getOneTextThunk = createAsyncThunk('Thunk: getOneText', async function (id) {\n  const response = await fetch(`http://localhost:3002/texts/${id}`);\n  const data = await response.json();\n  return data;\n});\nconst oneTextInitialState = {\n  id: 0,\n  title: 'Загрузка',\n  img: 'Loading.jpg',\n  text_body: '',\n  content_references: null\n};\nconst oneTextErrorState = {\n  id: 0,\n  title: 'Ошибка!',\n  img: '404.jpg',\n  text_body: 'Возникла ошибка, вероятно на стороне сервера.',\n  content_references: null\n};\nexport const oneTextSlice = createSlice({\n  name: 'oneTextSlice',\n  initialState: oneTextInitialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getOneTextThunk.pending, (_, __) => oneTextInitialState);\n    builder.addCase(getOneTextThunk.fulfilled, (_, action) => action.payload);\n    builder.addCase(getOneTextThunk.rejected, (_, __) => oneTextErrorState);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","createSlice","getAllGlobalTextsTitlesThunk","response","fetch","data","json","textsSlice","name","initialState","reducers","extraReducers","builder","addCase","fulfilled","_","action","payload","rejected","__","getOneTextThunk","id","oneTextInitialState","title","img","text_body","content_references","oneTextErrorState","oneTextSlice","pending"],"sources":["/Users/tatanaarhipova/MikeIT/eng/src/app/API/textSliceAPI.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { Text, TextTitle } from '../types/types'\n\n// добавить пагинацию\nexport const getAllGlobalTextsTitlesThunk = createAsyncThunk<TextTitle[]>(\n    'Thunk: getAllGlobalTextTitles',\n    async function() {\n        const response = await fetch(`http://localhost:3002/texts/titles`)\n        const data = await response.json()\n        return data\n    }\n)\nexport const textsSlice = createSlice<TextTitle[], {}>({\n    name: 'textsSlice',\n    initialState: [],\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(getAllGlobalTextsTitlesThunk.fulfilled, (_, action) => action.payload)\n        builder.addCase(getAllGlobalTextsTitlesThunk.rejected, (_, __) => [])\n    }\n})\nexport const getOneTextThunk = createAsyncThunk<Text, number | string>(\n    'Thunk: getOneText',\n    async function(id) {\n        const response = await fetch(`http://localhost:3002/texts/${id}`)\n        const data = await response.json()\n        return data\n    }\n)\nconst oneTextInitialState: Text = {\n    id: 0,\n    title: 'Загрузка',\n    img: 'Loading.jpg',\n    text_body: '',\n    content_references: null\n}\nconst oneTextErrorState: Text = {\n    id: 0,\n    title: 'Ошибка!',\n    img: '404.jpg',\n    text_body: 'Возникла ошибка, вероятно на стороне сервера.',\n    content_references: null\n}\nexport const oneTextSlice = createSlice<Text, {}>({\n    name: 'oneTextSlice',\n    initialState: oneTextInitialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(getOneTextThunk.pending, (_, __) => oneTextInitialState)\n        builder.addCase(getOneTextThunk.fulfilled, (_, action) => action.payload)\n        builder.addCase(getOneTextThunk.rejected, (_, __) => oneTextErrorState)\n    }\n})"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAGhE;AACA,OAAO,MAAMC,4BAA4B,GAAGF,gBAAgB,CACxD,+BAA+B,EAC/B,kBAAiB;EACb,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,oCAAmC,CAAC;EAClE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CACJ;AACD,OAAO,MAAME,UAAU,GAAGN,WAAW,CAAkB;EACnDO,IAAI,EAAE,YAAY;EAClBC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACX,4BAA4B,CAACY,SAAS,EAAE,CAACC,CAAC,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO,CAAC;IACtFL,OAAO,CAACC,OAAO,CAACX,4BAA4B,CAACgB,QAAQ,EAAE,CAACH,CAAC,EAAEI,EAAE,KAAK,EAAE,CAAC;EACzE;AACJ,CAAC,CAAC;AACF,OAAO,MAAMC,eAAe,GAAGpB,gBAAgB,CAC3C,mBAAmB,EACnB,gBAAeqB,EAAE,EAAE;EACf,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BiB,EAAG,EAAC,CAAC;EACjE,MAAMhB,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf,CAAC,CACJ;AACD,MAAMiB,mBAAyB,GAAG;EAC9BD,EAAE,EAAE,CAAC;EACLE,KAAK,EAAE,UAAU;EACjBC,GAAG,EAAE,aAAa;EAClBC,SAAS,EAAE,EAAE;EACbC,kBAAkB,EAAE;AACxB,CAAC;AACD,MAAMC,iBAAuB,GAAG;EAC5BN,EAAE,EAAE,CAAC;EACLE,KAAK,EAAE,SAAS;EAChBC,GAAG,EAAE,SAAS;EACdC,SAAS,EAAE,+CAA+C;EAC1DC,kBAAkB,EAAE;AACxB,CAAC;AACD,OAAO,MAAME,YAAY,GAAG3B,WAAW,CAAW;EAC9CO,IAAI,EAAE,cAAc;EACpBC,YAAY,EAAEa,mBAAmB;EACjCZ,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACO,eAAe,CAACS,OAAO,EAAE,CAACd,CAAC,EAAEI,EAAE,KAAKG,mBAAmB,CAAC;IACxEV,OAAO,CAACC,OAAO,CAACO,eAAe,CAACN,SAAS,EAAE,CAACC,CAAC,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO,CAAC;IACzEL,OAAO,CAACC,OAAO,CAACO,eAAe,CAACF,QAAQ,EAAE,CAACH,CAAC,EAAEI,EAAE,KAAKQ,iBAAiB,CAAC;EAC3E;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}